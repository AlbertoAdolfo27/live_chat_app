model Conversation {
    id              String              @id @default(uuid())
    createdAt       DateTime            @default(now())
    startedByUserId String
    participants    ConversationUsers[]
    messages        Message[]

    startedByUser User @relation(fields: [startedByUserId], references: [id])

    @@index([id])
}

model ConversationUsers {
    id             String   @id @default(uuid())
    conversationId String
    userId         String
    joinedAt       DateTime @default(now())

    conversation Conversation @relation(fields: [conversationId], references: [id])
    user         User         @relation(fields: [userId], references: [id])

    @@index([id])
}
